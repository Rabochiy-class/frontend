openapi: 3.0.3
info:
  title: TelegramWebDonorSearch API
  version: 1.0.0
paths:
  /api/donation_plan/:
    get:
      operationId: donation_plan_list
      description: Retrieves a list of donation plans created by the authenticated
        user, excluding aborted plans.
      summary: List Donation Plans
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: page_size
        required: false
        in: query
        description: Number of results to return per page.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Donation Plan Management
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedDonationPlanList'
          description: ''
  
  /api/auth/registration/:
    post:
      operationId: register_new_user
      description: Registers a new user, either through email or phone number.
      summary: User Registration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Registration'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Registration'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Registration'
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  user_id:
                    type: string
          description: ''
  /api/auth/confirm_email_reg/:
    post:
      operationId: auth_confirm_email_reg_create
      description: Confirms a user's email address during the registration process.
      summary: Confirm Email on Registration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailVerificationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmailVerificationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmailVerificationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/confirm_phone_reg/:
    post:
      operationId: auth_confirm_phone_reg_create
      description: Confirms phone number registration and completes the user registration
        process.
      summary: Confirm Phone Registration
      tags:
      - Account Creation and Confirmation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PhoneVerificationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PhoneVerificationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PhoneVerificationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/login/:
    post:
      operationId: auth_login_create
      description: Authenticates a user with a username and password. Handles email
        and phone number formats for usernames.
      summary: User Login
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                password:
                  type: string
              required:
              - username
              - password
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''        
  /api/auth/logout/:
    post:
      operationId: auth_logout_create
      description: Logs out the current user, invalidating their authentication token.
      summary: User Logout
      tags:
      - Authentication
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''  
  /api/auth/recover/:
    post:
      operationId: auth_recover_create
      description: Handles account recovery through email or phone. The method of
        recovery depends on the user's registered login type. It sends an email or
        SMS with recovery instructions.
      summary: Account Recovery
      tags:
      - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
              required:
              - username
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  login_type:
                    type: string
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
          description: ''
  /api/auth/resend_code/:
    post:
      operationId: auth_resend_code_create
      description: Resends a phone verification code to the user.
      summary: Resend Phone Verification Code
      tags:
      - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: string
              required:
              - user_id
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/resend_email_code/:
    post:
      operationId: auth_resend_email_code_create
      description: Sends a new email confirmation code to the user.
      summary: Resend Email Confirmation Code
      tags:
      - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: string
              required:
              - user_id
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/set_password/:
    post:
      operationId: auth_set_password_create
      description: Allows a user to set a new password, usually as part of a password
        reset process.
      summary: Set Password
      tags:
      - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ResetPassword'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ResetPassword'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/change_email/:
    post:
      operationId: auth_change_email_create
      description: Changes the email address of a user.
      summary: Change Email Address
      tags:
      - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailChangeSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmailChangeSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmailChangeSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/change_password/:
    post:
      operationId: auth_change_password_create
      description: Allows an authenticated user to change their password.
      summary: Change Password
      tags:
      - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChangePassword'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/change_phone/:
    post:
      operationId: auth_change_phone_create
      description: Changes the phone number of a user.
      summary: Change Phone Number
      tags:
      - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PhoneChangeSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PhoneChangeSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PhoneChangeSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/confirm_email/:
    post:
      operationId: auth_confirm_email_create
      description: Confirms a user's email address using the provided confirmation
        code.
      summary: Confirm Email Address
      tags:
      - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailConfirmationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmailConfirmationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmailConfirmationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/confirm_phone/:
    post:
      operationId: auth_confirm_phone_create
      description: Confirms a user's phone number using the provided confirmation
        code.
      summary: Confirm Phone Number
      tags:
      - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PhoneConfirmationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PhoneConfirmationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PhoneConfirmationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
components:
  schemas:
    PaginatedDonationPlanList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/DonationPlan'
    BloodStationSchedule:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        dow:
          type: string
          readOnly: true
        start:
          type: string
          format: time
        end:
          type: string
          format: time
      required:
      - dow
      - end
      - id
      - start
    BloodStationPhone:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        phone:
          type: string
          title: Номер телефона
          maxLength: 25
        comment:
          type: string
          title: Коментарий
      required:
      - id
      - phone      
    BloodStation:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        city_id:
          type: integer
        city:
          $ref: '#/components/schemas/City'
        lat:
          type: string
          readOnly: true
        lng:
          type: string
          readOnly: true
        schedule:
          type: array
          items:
            $ref: '#/components/schemas/BloodStationSchedule'
        phone_numbers:
          type: array
          items:
            $ref: '#/components/schemas/BloodStationPhone'
        blood_group:
          type: string
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
        parser_url:
          type: string
          format: uri
          nullable: true
          title: Страница в службе крови
          maxLength: 200
        is_get_from_parser:
          type: boolean
          title: Принимать потребности у службы крови?
          description: Данные будут обновляться каждый день в час ночи.
        o_plus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: O(I) Rh+
        o_minus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: O(I) Rh-
        a_plus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: A(II) Rh+
        a_minus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: A(II) Rh-
        b_plus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: B(III) Rh+
        b_minus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: B(III) Rh-
        ab_plus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: AB(IV) Rh+
        ab_minus:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: AB(IV) Rh-
        blood:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Цельная кровь
        plasma:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Плазма
        platelets:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Тромбоциты
        erythrocytes:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Эритроциты
        leukocytes:
          allOf:
          - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Гранулоциты (Лейкоциты)
        address:
          type: string
          title: Адрес
          maxLength: 255
        site:
          type: string
          title: Сайт
          maxLength: 255
        phones:
          type: string
          title: Телефоны
          description: Устаревшее поле
          maxLength: 255
        email:
          type: string
          format: email
          maxLength: 254
        worktime:
          type: string
          title: Режим работы
          description: Устаревшее поле
          maxLength: 255
        without_registration:
          type: boolean
          title: Можно сдавать без прописки
          description: Центры крови принимает доноров без местной прописки
        with_typing:
          type: boolean
          title: Можно пройти типирование
          description: Здесь вы можете войти в <a href="https://wmdd2020.donorsearch.org"
            target="_blank">регистр доноров костного мозга</a>
        for_moscow:
          type: boolean
          title: В зачёт почётного донора Москвы
          description: Сдавая в этом центре крови можно получить звание Почётного
            донора Москвы
        closed:
          type: boolean
          title: Ликвидирован
          description: Если данный центр крови больше не существует, то не будет показан
            в поиске, где сдать кровь. Однако при добавлении донаций, доноры могут
            найти этот центр крови, чтобы отметить свои старые донации.
        priority:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций добавлено
      required:
      - blood_group
      - city
      - city_id
      - id
      - lat
      - lng
      - phone_numbers
      - schedule
      - title
    PlusMinusUniversalEnum:
      enum:
      - need
      - no_need
      - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    DonationPlan:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        event:
          type: string
          readOnly: true
        blood_station_id:
          type: integer
          nullable: true
        blood_station:
          allOf:
          - $ref: '#/components/schemas/BloodStation'
          readOnly: true
        city_id:
          type: integer
          nullable: true
        city:
          allOf:
          - $ref: '#/components/schemas/City'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        object_id:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          title: ID записи
        blood_class:
          allOf:
          - $ref: '#/components/schemas/BloodClassF07Enum'
          title: Класс крови
        plan_date:
          type: string
          format: date
          title: Планируемая дата
        payment_type:
          nullable: true
          title: Тип донации
          oneOf:
          - $ref: '#/components/schemas/PaymentTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        status:
          allOf:
          - $ref: '#/components/schemas/DonationPlanStatusEnum'
          title: Статус
        is_out:
          type: boolean
          title: Выездная акция
        user:
          type: integer
          readOnly: true
          title: Пользователь
        content_type:
          type: integer
          nullable: true
          title: Тип записи
        donation:
          type: integer
          nullable: true
          title: Добавленная Донация
      required:
      - blood_station
      - city
      - created_at
      - event
      - id
      - plan_date
      - updated_at
      - user     
    BloodClassF07Enum:
      enum:
      - blood
      - plasma
      - platelets
      - erythrocytes
      - leukocytes
      type: string
      description: |-
        * `blood` - Цельная кровь
        * `plasma` - Плазма
        * `platelets` - Тромбоциты
        * `erythrocytes` - Эритроциты
        * `leukocytes` - Гранулоциты (Лейкоциты)      
    PaymentTypeEnum:
      enum:
      - free
      - payed
      type: string
      description: |-
        * `free` - Безвозмездно
        * `payed` - Платно      
    DonationPlanStatusEnum:
      enum:
      - active
      - abort
      - done
      - widget_abort
      type: string
      description: |-
        * `active` - донация запланирована
        * `abort` - планирование отменено
        * `done` - запланированная донация добавлена
        * `widget_abort` - отказ прикрепить справку к прошедшему планированию
    NullEnum:
      enum:
      - male
      - female
    BlankEnum:
      enum:
      - male
      - female
    ChangePassword:
      type: object
      properties:
        password1:
          type: string
        password2:
          type: string
    City:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
        slug:
          type: string
          title: Название
          description: Строковый идентификатор сущности.
          maxLength: 255
        region_id:
          type: integer
        region:
          allOf:
          - $ref: '#/components/schemas/Region'
          readOnly: true
        country:
          allOf:
          - $ref: '#/components/schemas/Country'
          readOnly: true
        priority:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Приоритет
        lat:
          type: string
          readOnly: true
        lng:
          type: string
          readOnly: true
      required:
      - country
      - id
      - lat
      - lng
      - region
      - region_id
      - title
    Country:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
      required:
      - id
      - title
    DonationAgg:
      type: object
      properties:
        count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за все время
        last_donation_at:
          type: string
          format: date
          nullable: true
          title: Дата последней донации
        blood:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь
        plasma:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма
        platelets:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты
        erythrocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты
        leukocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Гранулоциты (Лейкоциты)
        unconfirmed_donations:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Не подтверждённые
    DonationAggTop:
      type: object
      properties:
        count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за все время
        last_donation_at:
          type: string
          format: date
          nullable: true
          title: Дата последней донации
        blood:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь
        plasma:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма
        platelets:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты
        erythrocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты
        leukocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Гранулоциты (Лейкоциты)
        unconfirmed_donations:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Не подтверждённые
        count_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за донорский год
        blood_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь за донорский год
        plasma_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма за донорский год
        platelets_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты за донорский год
        erythrocytes_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты за донорский год
        leukocytes_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Лейкоциты за донорский год
    DonorStatus:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: Название
          maxLength: 50
        donations_count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Количество донаций
        background_color:
          type: string
          title: Цвет фона
          maxLength: 100
        text_color:
          type: string
          title: Цвет текста
          maxLength: 100
      required:
      - donations_count
      - id
      - name
    EmailChangeSerialzier:
      type: object
      properties:
        email:
          type: string
          format: email
          maxLength: 254
      required:
      - email
    EmailConfirmationSerialzier:
      type: object
      properties:
        email:
          type: string
          format: email
        code:
          type: integer
      required:
      - code
      - email
    EmailRegistration:
      type: object
      properties:
        email:
          type: string
          format: email
        password:
          type: string
        first_name:
          type: string
        tag:
          type: string
      required:
      - email
      - first_name
      - password
    EmailVerificationSerialzier:
      type: object
      properties:
        code:
          type: integer
        user_id:
          type: integer
        email:
          type: string
          format: email
      required:
      - code
      - email
      - user_id
    GenderEnum:
      enum:
      - male
      - female
      type: string
      description: |-
        * `male` - Мужской
        * `female` - Женский
    InlinePicture:
      type: object
      properties:
        image:
          type: string
          format: uri
          readOnly: true
      required:
      - image
    PhoneChangeSerialzier:
      type: object
      properties:
        phone:
          type: string
      required:
      - phone
    PhoneConfirmationSerialzier:
      type: object
      properties:
        phone:
          type: string
        code:
          type: integer
      required:
      - code
      - phone
    PhoneRegistration:
      type: object
      properties:
        phone:
          type: string
        password:
          type: string
        first_name:
          type: string
        tag:
          type: string
      required:
      - first_name
      - password
      - phone
    PhoneVerificationSerialzier:
      type: object
      properties:
        code:
          type: integer
        user_id:
          type: integer
        phone:
          type: string
      required:
      - code
      - phone
      - user_id
    ProviderEnum:
      enum:
      - facebook
      - vkontakte
      - twitter
      - odnoklassniki
      - google
      - yandex
      - apple
      type: string
      description: |-
        * `facebook` - Facebook
        * `vkontakte` - VK
        * `twitter` - Twitter
        * `odnoklassniki` - Odnoklassniki
        * `google` - Google
        * `yandex` - Yandex
        * `apple` - Apple
    Region:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
      required:
      - id
      - title
    Registration:
      oneOf:
      - $ref: '#/components/schemas/EmailRegistration'
      - $ref: '#/components/schemas/PhoneRegistration'
    ResetPassword:
      type: object
      properties:
        token:
          type: string
        password:
          type: string
      required:
      - password
      - token
    SimpleUserSocialAuth:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          readOnly: true
          title: Провайдер
        uid:
          type: string
          readOnly: true
          title: ID профиля
        is_public:
          type: boolean
          title: Публичный профиль
        email:
          type: string
          readOnly: true
          nullable: true
      required:
      - email
      - id
      - provider
      - uid
    TopUsers:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        photo:
          allOf:
          - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        first_name:
          type: string
          title: Имя
          maxLength: 255
        last_name:
          type: string
          title: Фамилия
          maxLength: 255
        donation_agg:
          allOf:
          - $ref: '#/components/schemas/DonationAggTop'
          readOnly: true
        blood_group:
          type: string
          readOnly: true
        bs_count:
          type: string
          readOnly: true
        city:
          allOf:
          - $ref: '#/components/schemas/City'
          readOnly: true
        donor_status:
          allOf:
          - $ref: '#/components/schemas/DonorStatus'
          readOnly: true
        is_request_user:
          type: boolean
          readOnly: true
      required:
      - blood_group
      - bs_count
      - city
      - donation_agg
      - donor_status
      - first_name
      - id
      - is_request_user
      - photo
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        date_joined:
          type: string
          format: date-time
          readOnly: true
          title: Дата регистрации
        username:
          type: string
          maxLength: 50
        first_name:
          type: string
          title: Имя
          maxLength: 255
        last_name:
          type: string
          title: Фамилия
          maxLength: 255
        middle_name:
          type: string
          title: Отчество
          maxLength: 255
        maiden_name:
          type: string
          title: Девичья фамилия
          maxLength: 255
        birth_date:
          type: string
          format: date
          nullable: true
          title: Дата рождения
        gender:
          title: Пол
          oneOf:
          - $ref: '#/components/schemas/GenderEnum'
          - $ref: '#/components/schemas/BlankEnum'
        email:
          type: string
          format: email
          readOnly: true
          title: Адрес электронной почты
        phone:
          type: string
          readOnly: true
          title: Номер телефона
        login_via_phone:
          type: boolean
          title: Вход по номеру телефон
        about:
          type: string
          title: О себе
          maxLength: 130
        city_id:
          type: integer
        city:
          allOf:
          - $ref: '#/components/schemas/City'
          readOnly: true
        is_pin_20:
          type: boolean
          title: '20'
        is_pin_100:
          type: boolean
          title: '100'
        donation_agg:
          allOf:
          - $ref: '#/components/schemas/DonationAgg'
          readOnly: true
        socials:
          type: array
          items:
            $ref: '#/components/schemas/SimpleUserSocialAuth'
          readOnly: true
        photo:
          allOf:
          - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        photo_id:
          type: integer
          nullable: true
        next_donation_date:
          type: string
          readOnly: true
        next_donation:
          type: string
          readOnly: true
        blood_group:
          type: string
          readOnly: true
        has_password:
          type: string
          readOnly: true
        is_email_verified:
          type: string
          readOnly: true
        is_phone_verified:
          type: string
          readOnly: true
        email_reconfirmed_at:
          type: string
          format: date-time
          nullable: true
          title: Дата подтверждения почты через баннер
        phone_reconfirmed_at:
          type: string
          format: date-time
          nullable: true
          title: Дата подтверждения телефона через баннер
        legacy_avatar:
          type: string
          readOnly: true
        start_donor_year:
          type: string
          readOnly: true
        referal_code:
          type: string
          format: uuid
          readOnly: true
          title: Реферальный код
        parent_user:
          allOf:
          - $ref: '#/components/schemas/TopUsers'
          readOnly: true
        invited_users:
          type: array
          items:
            $ref: '#/components/schemas/TopUsers'
          readOnly: true
        donor_status:
          allOf:
          - $ref: '#/components/schemas/DonorStatus'
          readOnly: true
        managed_organizations:
          type: string
          readOnly: true
        joined_events:
          type: string
          readOnly: true
        joined_organizations:
          type: string
          readOnly: true
        donor_certificate:
          type: boolean
          title: Получено удостоверение почётного донора
      required:
      - blood_group
      - city
      - city_id
      - date_joined
      - donation_agg
      - donor_status
      - email
      - first_name
      - has_password
      - id
      - invited_users
      - is_email_verified
      - is_phone_verified
      - joined_events
      - joined_organizations
      - legacy_avatar
      - managed_organizations
      - next_donation
      - next_donation_date
      - parent_user
      - phone
      - photo
      - referal_code
      - socials
      - start_donor_year
      - username
      